<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" namespace="HW.Core.Models" assembly="HW.Core">
	<class name="Sponsor" table="Sponsor">
		<id name="Id" column="SponsorID">
			<generator class="identity" />
		</id>
		<property name="Name" column="Sponsor" />
		<property name="InviteText" column="InviteTxt" />
		<property name="InviteReminderText" column="InviteReminderTxt" />
		<property name="InviteSubject" />
		<property name="InviteReminderSubject" />
		<bag name="Admins" inverse="true" cascade="all-delete-orphan">
			<key column="SponsorID" />
			<one-to-many class="SponsorAdmin" />
		</bag>
		<bag name="Invites" inverse="true" cascade="all-delete-orphan">
			<key column="SponsorID" />
			<one-to-many class="SponsorInvite" />
		</bag>
		<bag name="BackgroundQuestions" inverse="true" cascade="all-delete-orphan">
			<key column="SponsorID" />
			<one-to-many class="SponsorBackgroundQuestion" />
		</bag>
		<bag name="RoundUnits" inverse="true" cascade="all-delete-orphan">
			<key column="SponsorID" />
			<one-to-many class="SponsorProjectRoundUnit" />
		</bag>
		<!--<join table="eForm..ProjectRoundUnit">
			<key column="ProjectRoundUnitID"/>
			<component name="ProjectRoundUnit" class="ProjectRoundUnit">
				<property name="Name" column="Unit" />
			</component>
		</join>-->
	</class>
	<class name="SponsorAdmin" table="SponsorAdmin">
		<id name="Id" column="SponsorAdminID">
			<generator class="identity" />
		</id>
		<many-to-one name="Sponsor" class="Sponsor" column="SponsorID" />
		<property name="Name" column="Usr" />
		<property name="Password" column="Pas" />
		<bag name="Functions" inverse="true" cascade="all-delete-orphan">
			<key column="SponsorAdminID" />
			<one-to-many class="SponsorAdminFunction" />
		</bag>
		<bag name="Departments" inverse="true" cascade="all-delete-orphan">
			<key column="SponsorAdminID" />
			<one-to-many class="SponsorAdminDepartment" />
		</bag>
	</class>
	<class name="SponsorAdminFunction" table="SponsorAdminFunction">
		<id name="Id" column="SponsorAdminFunctionID">
			<generator class="identity" />
		</id>
		<many-to-one name="Function" class="ManagerFunction" column="ManagerFunctionID" />
		<many-to-one name="Admin" class="SponsorAdmin" column="SponsorAdminID" />
	</class>
	<class name="SponsorAdminDepartment" table="SponsorAdminDepartment">
		<id name="Id" column="SponsorAdminDepartmentID">
			<generator class="identity" />
		</id>
		<many-to-one name="Department" class="Department" column="DepartmentID" />
		<many-to-one name="Admin" class="SponsorAdmin" column="SponsorAdminID" />
	</class>
	<class name="SponsorInvite" table="SponsorInvite">
		<id name="Id" column="SponsorInviteID">
			<generator class="identity" />
		</id>
		<many-to-one name="Sponsor" class="Sponsor" column="SponsorID" />
		<many-to-one name="Department" class="Department" column="DepartmentID" />
		<property name="Email" />
	</class>
	<class name="SponsorBackgroundQuestion" table="SponsorBQ">
		<id name="Id" column="SponsorBQID">
			<generator class="identity" />
		</id>
		<many-to-one name="Sponsor" class="Sponsor" column="SponsorID" />
		<many-to-one name="BackgroundQuestion" class="BackgroundQuestion" column="BQID" />
	</class>
	<class name="SponsorProjectRoundUnit" table="SponsorProjectRoundUnit">
		<id name="Id" column="SponsorProjectRoundUnitID">
			<generator class="identity" />
		</id>
		<many-to-one name="Sponsor" class="Sponsor" column="SponsorID" />
		<many-to-one name="ProjectRoundUnit" class="ProjectRoundUnit" column="ProjectRoundUnitID" />
	</class>
</hibernate-mapping>