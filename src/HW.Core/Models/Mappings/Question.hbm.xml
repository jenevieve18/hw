<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" namespace="HW.Core.Models" assembly="HW.Core">
	<class name="Question" table="Question">
		<id name="Id" column="QuestionID">
			<generator class="identity" />
		</id>
		<property name="VariableName" />
		<property name="Internal" />
		<many-to-one name="Container" class="QuestionContainer" column="QuestionContainerID" />
		<bag name="Languages" inverse="true" cascade="all-delete-orphan">
			<key column="QuestionID" />
			<one-to-many class="QuestionLanguage" />
		</bag>
	</class>
	<class name="QuestionContainer" table="QuestionContainer">
		<id name="Id" column="QuestionContainerID">
			<generator class="identity" />
		</id>
		<property name="Container" column="QuestionContainer" />
	</class>
	<class name="QuestionLanguage" table="QuestionLang">
		<id name="Id" column="QuestionLangID">
			<generator class="identity" />
		</id>
		<many-to-one name="Question" class="Question" column="QuestionID" />
		<many-to-one name="Language" class="Language" column="LangID" />
		<property name="QuestionText" column="Question" />
	</class>
	
	<class name="WeightedQuestionOption" table="WeightedQuestionOption">
		<id name="Id" column="WeightedQuestionOptionID">
			<generator class="identity" />
		</id>
		<many-to-one name="Question" class="Question" column="QuestionID" />
		<many-to-one name="Option" class="Option" column="OptionID" />
		<property name="Internal" />
	</class>
	
	<class name="BackgroundQuestion" table="BQ">
		<id name="Id" column="BQID">
			<generator class="identity" />
		</id>
		<property name="Internal" />
		<bag name="Languages" inverse="true" cascade="all-delete-orphan">
			<key column="BQID" />
			<one-to-many class="BackgroundQuestionLanguage" />
		</bag>
		<bag name="Answers" inverse="true" cascade="all-delete-orphan">
			<key column="BQID" />
			<one-to-many class="BackgroundAnswer" />
		</bag>
	</class>
	<class name="BackgroundQuestionLanguage" table="BQLang">
		<id name="Id" column="BQLangID">
			<generator class="identity" />
		</id>
		<property name="Question" column="BQ" />
		<many-to-one name="BackgroundQuestion" class="BackgroundQuestion" column="BQID" />
		<many-to-one name="Language" class="Language" column="LangID" />
		<!--<join table="eForm..Lang">
			<key column="LangID"/>
			<component name="Language" class="Language">
				<property name="Name" column="Lang" />
			</component>
		</join>-->
	</class>
</hibernate-mapping>